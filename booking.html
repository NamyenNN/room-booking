<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="preconnect" href="https://script.google.com" crossorigin>
<link rel="dns-prefetch" href="https://script.google.com">
<link rel="preconnect" href="https://static.line-scdn.net" crossorigin>
<link rel="dns-prefetch" href="https://static.line-scdn.net">
<title>‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</title>
<link rel="icon" type="image/png" href="https://namyennn.github.io/room-booking/LOGOCS.png?v=1">

<style>
  /* ==== THEME (‡πÅ‡∏Å‡πâ‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏ß‡πá‡∏ö) ==== */
  :root{
    /* Light (‡∏õ‡∏Å‡∏ï‡∏¥) */
    --bg: #fafafa;
    --text: #0f172a;
    --muted:#64748b;
    --card:#ffffff;
    --line:#e5e7eb;
    --primary:#3b82f6;
    --primary-press:#2563eb;
    --input-bg:#ffffff;
  }
  /* Dark (‡πÄ‡∏°‡∏∑‡πà‡∏≠ body ‡∏°‡∏µ class="dark") */
  body.dark{
    --bg:#0b1220;
    --text:#e5e7eb;
    --muted:#94a3b8;
    --card:#0f172a;
    --line:#1f2a44;
    --primary:#60a5fa;
    --primary-press:#3b82f6;
    --input-bg:#0b1220;
  }

  /* ==== Base UI ==== */
  body{font-family:system-ui,Segoe UI,Arial;padding:16px;max-width:720px;margin:auto;background:var(--bg);color:var(--text);}
  fieldset{border:1px solid var(--line);padding:12px;margin-bottom:12px;border-radius:12px;background:var(--card)}
  label{display:block;margin:6px 0 4px;color:var(--muted)}
  input,select,button,textarea{
    width:100%;padding:10px;border:1px solid var(--line);border-radius:10px;
    background:var(--input-bg);color:var(--text);outline:none;
  }
  input:focus,select:focus,textarea:focus{border-color:var(--primary);box-shadow:0 0 0 3px color-mix(in srgb, var(--primary) 20%, transparent)}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .hint{font-size:12px;color:var(--muted)}
  details{margin-top:14px}
  pre{white-space:pre-wrap}
  a{color:var(--primary)}

  /* ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢ + ‡∏õ‡∏∏‡πà‡∏°‡∏ò‡∏µ‡∏°‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤ */
  .brand-wrap{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
  .brand{display:flex;align-items:center;gap:10px}
  .brand img{height:50px;width:auto;display:block}
  .brand h1{margin:0;font-size:28px;line-height:1.1}
  #theme-toggle{
    width:auto; padding:8px 12px; border-radius:10px; cursor:pointer;
    background:var(--primary); color:#fff; border:1px solid transparent;
  }
  #theme-toggle:active{background:var(--primary-press); transform:translateY(1px)}

  /* Dashboard */
  .dash{margin-top:20px}
  .dash h2{margin:0 0 10px}
  .grid4{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  @media (min-width:900px){.grid4{grid-template-columns:repeat(4,1fr)}}
  .card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}
  .card h3{margin:0 0 6px;font-size:16px}
  .card .count{font-size:12px;color:var(--muted);margin-bottom:8px}
  .item{font-size:13px;border-top:1px dashed var(--line);padding:6px 0}
  .muted{color:var(--muted);font-size:12px}

  /* ‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (‡∏Ñ‡∏≠‡∏°‡πÅ‡∏û‡πá‡∏Ñ) */
  .time-row {display:flex;justify-content:space-between;gap:12px;}
  .time-group {display:flex;align-items:center;gap:6px;flex:1;}
  .time-group label {margin:0;}
  #start,#end {width:100%;max-width:120px;padding:6px;font-size:14px;}

  /* Popup (‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏°) */
  #popup { position: fixed; inset: 0; display: none; }
  #popup.show { display: block; }
  #popup-backdrop{ position: absolute; inset:0; background: rgba(0,0,0,.35); }
  #popup-card{
    position: absolute; left:50%; top:50%; transform: translate(-50%,-50%);
    background:var(--card); color:var(--text);
    border-radius:14px; padding:18px; width:min(360px,90vw);
    box-shadow: 0 10px 30px rgba(0,0,0,.2); border:1px solid var(--line);
  }
</style>

<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>

<!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢ + ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤ -->
<div class="brand-wrap">
  <header class="brand">
    <a href="booking.html" aria-label="‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á">
      <img src="https://namyennn.github.io/room-booking/LOGOCS.png?v=1" alt="LOGO">
    </a>
    <h1>‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</h1>
  </header>
  <button id="theme-toggle" type="button" aria-label="Toggle theme">üåô Dark</button>
</div>

<fieldset>
  <legend>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</legend>
  <label>‡∏´‡πâ‡∏≠‡∏á</label>
  <select id="room"></select>
  <div class="row" style="margin-top:8px">
    <div><label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label><input type="date" id="date"></div>
  </div>
  <div class="time-row">
    <div class="time-group"><label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</label><input type="time" id="start"></div>
    <div class="time-group"><label>‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label><input type="time" id="end"></div>
  </div>
</fieldset>

<section id="dash" class="dash">
  <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏≤‡∏°‡∏´‡πâ‡∏≠‡∏á/‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</h2>
  <div class="grid4">
    <div class="card"><h3>‡πÄ‡∏ä‡πâ‡∏≤ (06:00‚Äì11:59)</h3><div id="c-morning" class="count">0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div><div id="l-morning" class="muted">‚Äî ‡∏ß‡πà‡∏≤‡∏á ‚Äî</div></div>
    <div class="card"><h3>‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‚Äì‡∏ö‡πà‡∏≤‡∏¢‡∏ï‡πâ‡∏ô (12:00‚Äì14:59)</h3><div id="c-noon" class="count">0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div><div id="l-noon" class="muted">‚Äî ‡∏ß‡πà‡∏≤‡∏á ‚Äî</div></div>
    <div class="card"><h3>‡∏ö‡πà‡∏≤‡∏¢‚Äì‡πÄ‡∏¢‡πá‡∏ô (15:00‚Äì18:59)</h3><div id="c-evening" class="count">0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div><div id="l-evening" class="muted">‚Äî ‡∏ß‡πà‡∏≤‡∏á ‚Äî</div></div>
    <div class="card"><h3>‡∏Ñ‡πà‡∏≥ (19:00‚Äì23:59)</h3><div id="c-night" class="count">0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div><div id="l-night" class="muted">‚Äî ‡∏ß‡πà‡∏≤‡∏á ‚Äî</div></div>
  </div>
</section>

<fieldset>
  <legend>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</legend>
  <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</label><input id="by" placeholder="‡∏à‡∏∞‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏Å LINE ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥">
  <label>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</label><textarea id="purpose" rows="2" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£..."></textarea>
</fieldset>

<button id="book">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>
<p id="msg" class="hint"></p>
<p><a href="my.html">‡πÑ‡∏õ‡∏ó‡∏µ‡πà ‚Äú‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô / ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‚Äù</a></p>

<details><summary>DEBUG</summary><pre id="debug"></pre></details>

<!-- Popup -->
<div id="popup" role="dialog" aria-modal="true" aria-labelledby="popup-title">
  <div id="popup-backdrop"></div>
  <div id="popup-card">
    <h3 id="popup-title">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡πÑ‡∏î‡πâ</h3>
    <p id="popup-msg">‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏∑‡πà‡∏ô</p>
    <button id="popup-ok" type="button">OK</button>
  </div>
</div>

<script>
/* ===== THEME TOGGLER (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏≥‡∏Ñ‡πà‡∏≤) ===== */
(function themeBoot(){
  const KEY = 'theme'; // 'light' | 'dark'
  const btn = document.getElementById('theme-toggle');

  function apply(mode){
    const dark = mode === 'dark';
    document.body.classList.toggle('dark', dark);
    btn.textContent = dark ? '‚òÄÔ∏è Light' : 'üåô Dark';
    btn.setAttribute('aria-pressed', String(dark));
  }

  // ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ > ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá‡∏≠‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö
  let mode = localStorage.getItem(KEY);
  if(!mode){
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    mode = prefersDark ? 'dark' : 'light';
  }
  apply(mode);

  // ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏•‡∏±‡∏ö + ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
  btn.addEventListener('click', () => {
    mode = (document.body.classList.contains('dark') ? 'light' : 'dark');
    localStorage.setItem(KEY, mode);
    apply(mode);
  });

  // ‡∏ñ‡πâ‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ò‡∏µ‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏≠‡∏á ‡πÉ‡∏´‡πâ sync ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
  const mq = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
  if(mq && typeof mq.addEventListener === 'function'){
    mq.addEventListener('change', e => {
      if(!localStorage.getItem(KEY)){ // sync ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏≠‡∏á
        apply(e.matches ? 'dark' : 'light');
      }
    });
  }
})();
</script>

<script>
/* ====== ‡∏ß‡∏≤‡∏á ‚Äú‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‚Äù ‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ======
   ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ò‡∏µ‡∏°‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏¢‡∏∏‡πà‡∏á‡∏Å‡∏±‡∏ö API/LIFF ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
   ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏¢‡∏≤‡∏ß‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏´‡πâ‡∏≠‡∏á/‡πÄ‡∏ä‡πá‡∏Å‡∏Ñ‡∏¥‡∏ß/‡∏à‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
*/

// ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°/‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡πá‡∏•‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏î‡πâ)
(function defaultTime(){
  const pad = n => String(n).padStart(2,'0');
  document.addEventListener('DOMContentLoaded', ()=>{
    const now=new Date(); const today=now.toISOString().slice(0,10);
    const dateEl=document.getElementById('date'); if(dateEl){ dateEl.value=today; dateEl.min=today; }
    const start=document.getElementById('start'); const end=document.getElementById('end');
    let h=now.getHours(), m=now.getMinutes(); if(m>0&&m<=30)m=30; else if(m>30){m=0;h=(h+1)%24;}
    if(start) start.value=`${pad(h)}:${pad(m)}`;
    if(end)   end.value  =`${pad((h+1)%24)}:${pad(m)}`;
  });
})();
</script>

</body>
</html>
